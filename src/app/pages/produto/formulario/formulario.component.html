<div class="form-container">
  <h2>Criar Novo Produto</h2>
  <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="nome_produto">Nome do Produto</label>
      <input id="nome_produto" formControlName="nome_produto" type="text" placeholder="Digite o nome do produto" />
      <div *ngIf="produtoForm.get('nome_produto')?.invalid && produtoForm.get('nome_produto')?.touched" class="error">
        Nome do produto é obrigatório e deve ter pelo menos 3 caracteres.
      </div>
    </div>

    <div class="form-group">
      <label for="descricao">Descrição</label>
      <textarea id="descricao" formControlName="descricao" placeholder="Digite a descrição do produto"></textarea>
      <div *ngIf="produtoForm.get('descricao')?.invalid && produtoForm.get('descricao')?.touched" class="error">
        Descrição é obrigatória e deve ter pelo menos 10 caracteres.
      </div>
    </div>

    <div class="form-group">
  <label for="preco_atual">Preço Atual</label>
  <input
  id="preco_atual"
  type="text"
  [value]="formatarMoeda(produtoForm.get('preco_atual')?.value)"
  (input)="onPrecoInput($event)"
  (keypress)="permitirSomenteNumeros($event)"
  placeholder="Digite o preço"
/>
  <div *ngIf="produtoForm.get('preco_atual')?.invalid && produtoForm.get('preco_atual')?.touched" class="error">
    Preço deve ser maior que 0.
  </div>
</div>


    <div class="form-group">
      <label for="imagem">URL da Imagem</label>
      <input id="imagem" formControlName="imagem" type="text" placeholder="Digite a URL da imagem" />
      <div *ngIf="produtoForm.get('imagem')?.invalid && produtoForm.get('imagem')?.touched" class="error">
        URL da imagem é obrigatória.
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="produtoForm.invalid">Salvar</button>
      <button type="button" (click)="cancelar()">Cancelar</button>
    </div>
  </form>
</div>